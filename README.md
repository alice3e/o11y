# Домашнее задание по теме "o11y"

Цель домашнего задания - сделать любое бекенд приложение. Пользоваться можно и нужно чем угодно.
Приложение просто должно иметь API и быть более менее осмысленным. Оно все равно будет использоваться только для тренировки работы с алертами, метриками и так далее.

## Что нужно сделать:

0) README того что сделано, куда смотреть и т.п. Документация должна быть за ручкой (например /docs) чтобы открыть её в браузере.
1) Сервис (бизнес логика может быть любой). Важно описать в документации что именно вы сделали. Можете взять любой готовый код если он вам подойдет.

Идея моего бекенда - сайт магазина продуктов. Клиентское приложение делает API запрос и получает список товаров определенной категории в магазине. Он видит цену и название товара. Он так же может делать запрос к определенному товару и видеть количество товара, производителя и другие данные. Когда клиент формирует корзину, он может заказать товар и количество товара доступного для заказа должно уменьшится. Администратор магазина так же может делать запрос через API чтобы добавлять новый товар, менять цену, изменять количество товара и тд.

2) Нагрузочный Сервис (можно использовать что-то стандартное или написать своё). Важно чтобы проверяющий мог через UI нагрузить ваш сервис, меняя кол-во rps (профиль нагрузки значения не имеет). К примеру можно сделать виртуальных клиентов, которые добавляют товар, заказывают его или смотрят его описание. Так же администраторы будут добавлять товар, обновлять описание или увеличивать цену и количество товара.
3) БД (любая БД в которой можете хранить состояние).
4) Графики/Алерты  (Сервиса + БД (!)).

- Графики:
  Вы должны предоставить графики своего целевого приложения, чтобы проверяющий после роста нагрузки мог увидеть метрики.
  Также важно предоставить метрики БД (например кол-во запросов в этот момент в БД, латенси и т.п). Графики можно показывать любые, в т.ч. встроенные в платформу деплоя. Важно чтобы они были корректными. Если в нагрузочном тестировании вы указали 100rps а на графиках будет 25 - это косяк и считается пункт невыполненным.
- Алерты в ТГ в public канал (чтобы по ссылке открывался)
  Необходимо реализовать 2 алерта:
  1) Если время ответа на целевую ручку в p99 превысила 500ms (подберите пожалуйста нагрузку / костыли в коде чтобы такое было реализуемо и напишите в README как это воспроизвести)
  2) кол-во rps в БД больше 100

В этих случаях мы должны отправить сигнал в телеграмм канал. Сигнал должен понятно описан.

В решении вы должны приложить ссылку на этот ТГ канал, чтобы проверяющий мог запустить ваш нагрузочный UI и убедиться что алерты шлются, и шлются корректно.

5) IAC Алерты и графики должны быть под IAC. У вас должны быть конфиги с помощью которых вы это настроили. Например, если это график в графане - то готовый дашборд который лежит в коде и вы его "настраиваете" условно курлом. Можете использовать тераформ, json и т.п. В редми должно быть указано где это лежит в коде (ссылкой на гитхаб)

---

Эти пункты необходимый минимум - без этого домашка считается не выполненной и оценивается в 0 баллов.

За минимум вы получаете 5 баллов. Дальше за каждый бонус идет по 1 баллу дополнительно.

## Дальше идут бонусы.

### Общие бонусы

6) swagger или другой любой инструмент для работы с api. Инструмент должен показывать ручки и мочь их запускать.
7) Трейсинг типа jaeger. Можно использовать тот что в графане. Можете хоть свой написать. Главный критерий - связь между запросами сервиса и нагрузочного показанная в каком-то инструменте.
8) Использование перфоманс инструмента. Скринкаст с тем как вы дебажите искусственно (или нет) созданную проблему в коде. В инструменте вам должны показать точную строчку или подстроку с проблемой после чего вы её должны пофиксить, пересобрать и показать что всё хорошо. Можно взять пример из лекции или что-то такое.

Постарайтесь использовать языко-специфичные инструменты

### Кастомные бонусы

Кастомные бонусы которые зависят от времени сдачи и призваны поощрить людей которые решают быстрее + не списывают у коллег. Отсортируем по времени посылки решений. Среди всех решений балл начисляется тем кто войдет в число первых 5 (пяти).

9) "Новая" БД  (для стораджа под приложением)
10) "Новый" язык программирования. (для самого приложения которое мониторим)
