global:
  resolve_timeout: 5m

# –ü—Ä–æ—Å—Ç–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è - –≤—Å–µ –∞–ª–µ—Ä—Ç—ã –≤ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª
route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 1m
  repeat_interval: 5m
  receiver: 'telegram-channel'

receivers:
  - name: 'telegram-channel' # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –∏–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –≤ route
    telegram_configs:
      - bot_token_file: '/etc/alertmanager/token'
        chat_id: -1002852417922
        api_url: 'https://api.telegram.org'
        parse_mode: 'HTML'
        send_resolved: true
        message: |
          <b>{{ .GroupLabels.alertname }}</b>

          {{ range .Alerts }}
          <b>{{ if eq .Status "firing" }}üî• Firing{{ else }}‚úÖ Resolved{{ end }}</b>
          <b>Summary:</b> {{ .Annotations.summary }}
          <b>Description:</b> {{ .Annotations.description }}
          <b>Instance:</b> <code>{{ .Labels.instance }}</code>
          <a href="{{ .GeneratorURL }}">Show in Prometheus</a>
          {{ end }}
